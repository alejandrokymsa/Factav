<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
        <meta name="viewport" content="width=device-width" />
          
         <link rel="icon" type="image/png" href="img/N6.ico">
                 
        <title>FactAV 1.0</title>
             
        <link href="../www/css/jquery.mobile-1.4.5.min.css" rel="stylesheet" />
        <link href="../www/css/bootstrap.css" rel="stylesheet" />
        <!--<link href="assets/css/rubick_pres.css" rel="stylesheet"/>-->
             <!--Fonts and icons     -->
        <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
        <link href='http://fonts.googleapis.com/css?family=Droid+Serif:400,700' rel='stylesheet' type='text/css'>
        <!--<link href="assets/css/fonts/pe-icon-7-stroke.css" rel="stylesheet">-->
        <!--<link href="assets/css/fonts/Rubik-Fonts.css" rel="stylesheet" />-->
    <!--   core js files    -->
	    <script src="../www/js/jquery-1.11.2.min.js" type="text/javascript"></script>
	    <script>
	    $(document).bind('mobileinit',function(){
	        $.mobile.changePage.defaults.changeHash = false;
	        $.mobile.hashListeningEnabled = false;
	        $.mobile.pushStateEnabled = false;
			$.mobile.allowCrossDomainPages = true; 
	    });
		</script> 
	    <script src="../www/js/jquery.mobile-1.4.5.min.js" type="text/javascript"></script>
	    <script src="../www/js/bootstrap.js" type="text/javascript"></script>
		    <script>
				//document.addEventListener("deviceready", onDeviceReady, false); 

				$(document).ready(function(){
				 	
					$("#kym_promocerve01").submit(function(){
						var datosUsuario = $("#username").val()
						var datosPassword = $("#password").val()
			
						archivoValidacion = "http://52.88.148.105//wservices/cerveceria/cerve001.php?jsoncallback=?"
						$.getJSON( archivoValidacion, { usuario:datosUsuario ,password:datosPassword})
						.done(function(respuestaServer) {
							//alert(respuestaServer.mensaje + "\nGenerado en: " + respuestaServer.hora + "\n" +respuestaServer.generador)
							if(respuestaServer.validacion == "ok"){
						 	/// si la validacion es correcta, muestra la pantalla "home"
							//$.mobile.changePage("#home")
							//	alert("Correcto");
								$.mobile.changePage("#home", {
		  							transition: "slide",
		  							reverse: false,
		  							changeHash: false
								});    /////"#home", { transition: "slide" });
								CargaDB();
				  			}else{
								alert("Erroneo");
				   				/// ejecutar una conducta cuando la validacion falla
							}
		  				})
						return false;
					});
					$('#username').focus();    
				 	var db = window.openDatabase("factdb", "1.0", "DB para FactAV", 5000000); //will create database Dummy_DB or open it

				 	//CargaDB();

					function CargaDB(){
						db.transaction(populateDB, errorCB, successCB);
					}

				    //create table and insert some record
				    function populateDB(tx) {
				        tx.executeSql('CREATE TABLE IF NOT EXISTS SoccerPlayer (id INTEGER PRIMARY KEY AUTOINCREMENT, Name TEXT NOT NULL, Club TEXT NOT NULL)');
				        tx.executeSql('Delete from SoccerPlayer');
				        tx.executeSql('INSERT INTO SoccerPlayer(Name,Club) VALUES ("Alexandre Pato", "AC Milan")');
				        tx.executeSql('INSERT INTO SoccerPlayer(Name,Club) VALUES ("Van Persie", "Arsenal")');
				    }
				 
				    //function will be called when an error occurred
				    function errorCB(err) {
				        console.log("Error processing SQL: "+err.code);
				    }
				 
				    //function will be called when process succeed
				    function successCB() {
				        alert("success!");
				        db.transaction(queryDB,errorCB);
				    }
				 
				    //select all from SoccerPlayer
				    function queryDB(tx){
				        tx.executeSql('SELECT * FROM SoccerPlayer',[],querySuccess,errorCB);
				    }
				 
				    function querySuccess(tx,result){
				        $('#SoccerPlayerList').empty();
				        $.each(result.rows,function(index){
				            var row = result.rows.item(index);
				            $('#SoccerPlayerList').append('<li><a href="#"><h3 class="ui-li-heading">'+row['Name']+'</h3><p class="ui-li-desc">Club '+row['Club']+'</p></a></li>');
				        });
				 
				        $('#SoccerPlayerList').listview();
				    }

				});

					//$('#popover-usuario').popover();
					//$('#popover-paswd').popover();
					//$(".alert").alert();
		    </script>
        
    </head>
    <body style="background: url('../www/factavbak.png') center center fixed; 
    -webkit-background-size: 100%; 
    -moz-background-size: 100%; 
    -o-background-size: 100%; 
    background-size: 100%; 
    -webkit-background-size: cover; 
    -moz-background-size: cover; 
    -o-background-size: cover; 
    background-size: cover; ">
    	<div data-role="page" id="index">
		<div data-role="header">
		</div><!-- /header -->
    	<div role="main" class="ui-content">
		<div class="row">&nbsp;</div>
		<div class="row">&nbsp;</div>
		<div class="row">
			<div class="cols-xs-2 col-md-2">&nbsp;
				</div>
			<div class="cols-xs-8 col-md-8">
				<div class="jumbotron">
					<h1  style="text-align: center;">Fact@V Mobile</h1>
					<div class="row-fluid">
						<form method="POST" name="kym_promocerve01" id="kym_promocerve01">
						<div class="row">
							<div class="col-xs-12 col-md-12" style="text-align: center">
								<input type="text" class="form-control" id="username" name="password" style='width: 100%' placeholder="Usuario" />
							</div>
						</div>
						<div class="row">&nbsp;</div>
						<div class="row">
							<div class="col-xs-12 col-md-12" style="text-align: center">
								<input type="password" class="form-control" id="password" name="password" style='width: 100%' placeholder="Password" />
							</div>
						</div>
						<div class="row">&nbsp;</div>
						<div class="row">
							<div class="col-xs-12 col-md-12" style="text-align: center">
								<button type="submit" class="btn btn-primary btn-lg" id="primer" name="primer" style='width: 100%' data-loading-text="Comprobando Usuario..."><i class="fa fa-sign-in"></i> Entrar</button>
							</div>
						</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		</div>
			<div data-role="footer">
				<h5>TecAvSoft</h5>
			</div><!-- /footer -->		
		</div>
		<!-- Fin pag 1 inicio pag 2-->
		<div data-role="page" id="home">
		  <div data-role="header" data-position="fixed" data-theme="b">
		    <h1>Soccer Player</h1>
		  </div>
     	  <div role="main" class="ui-content">
		     <ul id="SoccerPlayerList">
		    </ul>
			<div data-role="footer">
				<h5>TecAvSoft</h5>
			</div><!-- /footer -->		
		  </div>
		</div>
	 </body>
    <!--   file for adding vertical points where we activate the elements animation -->  
    <!--<script type="text/javascript" src="assets/js/jquery.waypoints.min.js"></script>-->
     <!--js library for devices recognition -->
    <!--<script type="text/javascript" src="assets/js/modernizr.js"></script>-->
     <!--script for google maps   -->
    <!--<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>-->
<!--       file where we handle all the script from the Rubik page   -->
    <!--<script type="text/javascript" src="assets/js/rubick_pres.js"></script>-->
    
    <!--<script type="text/javascript" src="assets/js/presentation-page/jquery.sharrre.js"></script>-->
</html>
